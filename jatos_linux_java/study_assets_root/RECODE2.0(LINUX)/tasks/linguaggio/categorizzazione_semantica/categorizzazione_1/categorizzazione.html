<!DOCTYPE html>
<html>
  <head>
    <script src="https://unpkg.com/jspsych@7.2.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-free-sort@1.0.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-canvas-keyboard-response@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-preload@1.1.1"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.1.1"></script>

    <script src="jatos.js"></script>
    <script src="https://smtpjs.com/v3/smtp.js"></script>

    <link href="https://unpkg.com/jspsych@7.2.3/css/jspsych.css" rel="stylesheet" type="text/css" />
  
  </head>
  <body></body>
  <script>



/*  function shuffle(array) {
    array.sort(() => Math.random() - 0.5);
  }

let color = ["yellow", "yellow", "yellow", "blue", "black", "yellow"];

shuffle(color);*/

  var preload = {
    type: jsPsychPreload,
    auto_preload: true
  };

  var button = {
      type: 'html-button-response',
      stimulus: '<p style="font-size: 24px; font-weight: bold;">Ora le verranno mostrate una serie di immagini,</p>'+
      "<p style='font-size: 24px; font-weight: bold;'>Il Suo compito sar√† quello di inserire le immagini che fanno parte della stessa categoria all'interno della figura al centro.</p>",
      button_html: '<button class="jspsych-btn" style="font-size:20px; color:black;">%choice%</button>',
      choices: ['Prema qui per continuare'],
      on_finish: function()
          {
            document.body.classList.add("stop-scrolling");
          }

     };

  var trial_1 = {
    type: 'free-sort',
    stimuli: ['linguaggio/categorizzazione_semantica/categorizzazione_1/img/1.jpg','linguaggio/categorizzazione_semantica/categorizzazione_1/img/5.jpg',
    'linguaggio/categorizzazione_semantica/categorizzazione_1/img/6.jpg','linguaggio/categorizzazione_semantica/categorizzazione_1/img/16.jpg',
    'linguaggio/categorizzazione_semantica/categorizzazione_1/img/15.jpg', 'linguaggio/categorizzazione_semantica/categorizzazione_1/img/9.jpg', 'linguaggio/categorizzazione_semantica/categorizzazione_1/img/17.jpg',
    'linguaggio/categorizzazione_semantica/categorizzazione_1/img/32.jpg'],
    stim_height: 100,
    stim_width: 130,
    sort_area_height: 500,
    sort_area_width: 600,
    prompt_location: 'below',
    counter_text_unfinished: "Mancano ancora %n% elementi da inserire ",
    counter_text_finished: "Hai posizionato tutti gli elementi!",
    prompt: 'Inserisci dentro il cerchio solo le immagini che fanno parte della stessa categoria! Ci sono 4 immagini da inserire, riesci a trovarle?',
    column_spread_factor: .1,
    border_color_out:	"#008080",
  };

  var trial_2 = {
    type: 'free-sort',
    stimuli: ['linguaggio/categorizzazione_semantica/categorizzazione_1/img/17.jpg','linguaggio/categorizzazione_semantica/categorizzazione_1/img/19.jpg',
    'linguaggio/categorizzazione_semantica/categorizzazione_1/img/29.jpg','linguaggio/categorizzazione_semantica/categorizzazione_1/img/28.jpg',
  'linguaggio/categorizzazione_semantica/categorizzazione_1/img/4.jpg', 'linguaggio/categorizzazione_semantica/categorizzazione_1/img/5.jpg',
'linguaggio/categorizzazione_semantica/categorizzazione_1/img/24.jpg', 'linguaggio/categorizzazione_semantica/categorizzazione_1/img/2.jpg'],
stim_height: 100,
stim_width: 130,
counter_text_unfinished: "Mancano ancora %n% elementi da inserire ",
counter_text_finished: "Hai posizionato tutti gli elementi!",
    prompt: 'Inserisci dentro il quadrato solo le immagini che fanno parte della stessa categoria! Ci sono 4 immagini da inserire, riesci a trovarle?',
    prompt_location: "below",
    sort_area_height: 500,
    sort_area_width: 600,
    sort_area_shape: "square",
    scale_factor: 0.8,
    border_color_in: '#DCDCDC',
    border_color_out: "#008080",

  };


  var trial_3 = {
    type: 'free-sort',
    stimuli: ['linguaggio/categorizzazione_semantica/categorizzazione_1/img/27.jpg','linguaggio/categorizzazione_semantica/categorizzazione_1/img/25.jpg',
    'linguaggio/categorizzazione_semantica/categorizzazione_1/img/32.jpg','linguaggio/categorizzazione_semantica/categorizzazione_1/img/37.jpg',
    'linguaggio/categorizzazione_semantica/categorizzazione_1/img/51.jpg', 'linguaggio/categorizzazione_semantica/categorizzazione_1/img/13.jpg', 'linguaggio/categorizzazione_semantica/categorizzazione_1/img/46.jpg',
    'linguaggio/categorizzazione_semantica/categorizzazione_1/img/21.jpg'],
    stim_height: 100,
    stim_width: 130,
    sort_area_height: 500,
    sort_area_width: 600,
    prompt_location: 'below',
    counter_text_unfinished: "Mancano ancora %n% elementi da inserire ",
    counter_text_finished: "Hai posizionato tutti gli elementi!",
    prompt: 'Inserisci dentro il cerchio solo le immagini che fanno parte della stessa categoria! Ci sono 4 immagini da inserire, riesci a trovarle?',
    column_spread_factor: .1,
    border_color_out: "#008080",
  };

  var trial_4 = {
    type: 'free-sort',
    stimuli: ['linguaggio/categorizzazione_semantica/categorizzazione_1/img/54.jpg','linguaggio/categorizzazione_semantica/categorizzazione_1/img/48.jpg',
    'linguaggio/categorizzazione_semantica/categorizzazione_1/img/11.jpg','linguaggio/categorizzazione_semantica/categorizzazione_1/img/12.jpg',
  'linguaggio/categorizzazione_semantica/categorizzazione_1/img/50.jpg', 'linguaggio/categorizzazione_semantica/categorizzazione_1/img/16.jpg',
  'linguaggio/categorizzazione_semantica/categorizzazione_1/img/45.jpg', 'linguaggio/categorizzazione_semantica/categorizzazione_1/img/25.jpg'],
  stim_height: 100,
  stim_width: 130,
  counter_text_unfinished: "Mancano ancora %n% elementi da inserire ",
  counter_text_finished: "Hai posizionato tutti gli elementi!",
    prompt: 'Inserisci dentro il quadrato solo le immagini che fanno parte della stessa categoria! Ci sono 4 immagini da inserire, riesci a trovarle?',
    prompt_location: "below",
    sort_area_height: 500,
    sort_area_width: 600,
    sort_area_shape: "square",
    scale_factor: 0.8,
    border_color_in: '#DCDCDC',
    border_color_out: "#008080"
  };

  var trial_5 = {
    type: 'free-sort',
    stimuli: ['linguaggio/categorizzazione_semantica/categorizzazione_1/img/8.jpg','linguaggio/categorizzazione_semantica/categorizzazione_1/img/36.jpg',
    'linguaggio/categorizzazione_semantica/categorizzazione_1/img/18.jpg','linguaggio/categorizzazione_semantica/categorizzazione_1/img/30.jpg',
    'linguaggio/categorizzazione_semantica/categorizzazione_1/img/3.jpg', 'linguaggio/categorizzazione_semantica/categorizzazione_1/img/19.jpg', 'linguaggio/categorizzazione_semantica/categorizzazione_1/img/26.jpg',
    'linguaggio/categorizzazione_semantica/categorizzazione_1/img/42.jpg'],
    stim_height: 100,
    stim_width: 130,
    sort_area_height: 500,
    sort_area_width: 600,
    prompt_location: 'below',
    counter_text_unfinished: "Mancano ancora %n% elementi da inserire ",
    counter_text_finished: "Hai posizionato tutti gli elementi!",
    prompt: 'Inserisci dentro il cerchio solo le immagini che fanno parte della stessa categoria! Ci sono 4 immagini da inserire, riesci a trovarle?',
    column_spread_factor: .1,
    border_color_out: "#008080"

  };

  var trial_6 = {
    type: 'free-sort',
    stimuli: ['linguaggio/categorizzazione_semantica/categorizzazione_1/img/39.jpg','linguaggio/categorizzazione_semantica/categorizzazione_1/img/40.jpg',
    'linguaggio/categorizzazione_semantica/categorizzazione_1/img/41.jpg','linguaggio/categorizzazione_semantica/categorizzazione_1/img/42.jpg',
  'linguaggio/categorizzazione_semantica/categorizzazione_1/img/43.jpg', 'linguaggio/categorizzazione_semantica/categorizzazione_1/img/48.jpg',
  'linguaggio/categorizzazione_semantica/categorizzazione_1/img/22.jpg', 'linguaggio/categorizzazione_semantica/categorizzazione_1/img/1.jpg'],
  stim_height: 100,
  stim_width: 130,
  counter_text_unfinished: "Mancano ancora %n% elementi da inserire ",
  counter_text_finished: "Hai posizionato tutti gli elementi!",
    prompt: 'Inserisci dentro il quadrato solo le immagini che fanno parte della stessa categoria! Ci sono 4 immagini da inserire, riesci a trovarle?',
    prompt_location: "below",
    sort_area_height: 500,
    sort_area_width: 600,
    sort_area_shape: "square",
    scale_factor: 0.8,
    border_color_in: '#DCDCDC',
    border_color_out: "#008080"
  };

  jsPsych.init({
    timeline: [preload, button, trial_1, trial_2,trial_3, trial_4, trial_5, trial_6,],
    on_finish: function(){jsPsych.data.displayData();
      if (cresp > 2) {feed = 1} else {feed = 0};
      jatos.studySessionData = feed;
      data = jatos.studySessionData;
      var linguaggio = Number(sessionStorage.getItem('linguaggio'))+feed;
      sessionStorage.setItem('linguaggio', linguaggio);
      var data = {feed: feed, type: 'denominazione_1', cresp: cresp};
      jatos.startComponentByPos(4, data);}
  });


  </script>
</html>
