<!DOCTYPE html>
<html>

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Operazioni LIV.1</title>


  <script src="jsPsych/plugins/jspsych.js"></script>
  <script src="jsPsych/plugins/plugin-free-sort.js"></script>
  <script src="jsPsych/plugins/plugin-html-keyboard-response.js"></script>
  <script src="jsPsych/plugins/plugin-html-button-response.js"></script>
  <link href="jsPsych/plugins/jspsych.css" rel="stylesheet" type="text/css" />
  <script src="jatos.js"></script>

  <style>
  body {
    background-color: white;
  }
</style>

</head>

<body>
  <script type='text/javascript'>
  jatos.onLoad(function() {
    var progress = Math.round((1/jatos.study.Length)*jatos.componentPos*100,0);
    var progressText="avanzamento" + progress + "%";
    const updateProgress = progress;
  });

  var jsPsych = initJsPsych({
    on_finish: function() {
      jsPsych.data.displayData();

      /*var correct_trials = jsPsych.data.get().filter({correct: true}).count();
      if(correct_trials > 0){
      var feed = 1;
    } else {
    var feed = 0;
  }
  jatos.studySessionData = feed;
  var mem_lavoro = Number(sessionStorage.getItem('mem_lavoro'))+feed;
  sessionStorage.setItem('mem_lavoro', mem_lavoro);
  var Data = {feed: feed, type: 'MEM_LAVORO_operazioni_level1', cresp: correct_trials};
  jatos.startComponentByPos(4,Data, JSON.stringify(Data)); /*PER FAR COMPARIRE FEEDBACK in base a posizione file su jatos */
}
});


let value = Math.floor(Math.random() * 20);
let target = Math.floor(Math.random() * 3);
let notarget1 = Math.floor(Math.random() * 20);
let notarget2  = Math.floor(Math.random() * 20);


var img = {
  type: "html-button-response",
  stimulus: '<p style="font-size: 24px; font-weight: bold;"> Sullo schermo compariranno due griglie con dei quadratini colorati: </p><p style="font-size: 24px; font-weight: bold;">  ciò che deve fare è sommare i quadratini colorati e indicare la risposta corretta.</p> <img src="memoria_di_lavoro/operazioni/img/somma_'+String(value)+'.png" height="400"> </p>',
  choices: "NO_KEYS",
  choices:["", "", ""],
  prompt:'Premi sulla figura che corrisponde alla somma delle due figure in alto',
  button_html:['<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: red; color: red; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(value)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: green; color: green; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget1)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: blue; color: blue; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget2)+'.png); background-size: 100px;">%choice%</button>'],
  randomize_choices_order: true,
  on_finish: function(data) {
    if (data.response == 0){
      var accuracy = true
      console.log(accuracy)
    } else {
      var accuracy = false
      console.log(accuracy)
    }
    data.correct = accuracy

  }
};


var img1 = {
  type: "html-button-response",
  stimulus: '<p style="font-size: 24px; font-weight: bold;"> Sullo schermo compariranno due griglie con dei quadratini colorati: </p><p style="font-size: 24px; font-weight: bold;">  ciò che deve fare è sommare i quadratini colorati e indicare la risposta corretta.</p> <img src="memoria_di_lavoro/operazioni/img3/somma_'+String(value)+'.png" height="400"> </p>',
  choices: "NO_KEYS",
  choices:["", "", ""],
  prompt:'Premi sulla figura che corrisponde alla somma delle due figure in alto',
  button_html:['<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: red; color: red; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget1)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: green; color: green; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(value)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: blue; color: blue; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget2)+'.png); background-size: 100px;">%choice%</button>'],
  on_finish: function(data) {
    if (data.response == 1){
      var accuracy = true
      console.log(accuracy)
    } else {
      var accuracy = false
      console.log(accuracy)
    }
    data.correct = accuracy

  }
};


var img2 = {
  type: "html-button-response",
  stimulus: '<p style="font-size: 24px; font-weight: bold;"> Sullo schermo compariranno due griglie con dei quadratini colorati: </p><p style="font-size: 24px; font-weight: bold;">  ciò che deve fare è sommare i quadratini colorati e indicare la risposta corretta.</p> <img src="memoria_di_lavoro/operazioni/img3/somma_'+String(value)+'.png" height="400"> </p>',
  choices: "NO_KEYS",
  choices:["", "", ""],
  prompt:'Premi sulla figura che corrisponde alla somma delle due figure in alto',
  button_html:['<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: red; color: red; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget1)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: green; color: green; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget2)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: blue; color: blue; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(value)+'.png); background-size: 100px;">%choice%</button>'],
  on_finish: function(data) {
    if (data.response == 2){
      var accuracy = true
      console.log(accuracy)
    } else {
      var accuracy = false
      console.log(accuracy)
    }
    data.correct = accuracy

  }
};
var img3 = {
  type: "html-button-response",
  stimulus: '<p style="font-size: 24px; font-weight: bold;"> Sullo schermo compariranno due griglie con dei quadratini colorati: </p><p style="font-size: 24px; font-weight: bold;">  ciò che deve fare è sommare i quadratini colorati e indicare la risposta corretta.</p> <img src="memoria_di_lavoro/operazioni/img3/somma_'+String(value)+'.png" height="400"> </p>',
  choices: "NO_KEYS",
  choices:["", "", ""],
  prompt:'Premi sulla figura che corrisponde alla somma delle due figure in alto',
  button_html:['<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: red; color: red; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget1)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: green; color: green; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget2)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: blue; color: blue; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(value)+'.png); background-size: 100px;">%choice%</button>'],
  on_finish: function(data) {
    if (data.response == 2){
      var accuracy = true
      console.log(accuracy)
    } else {
      var accuracy = false
      console.log(accuracy)
    }
    data.correct = accuracy

  }
};

var img4 = {
  type: "html-button-response",
  stimulus: '<p style="font-size: 24px; font-weight: bold;"> Sullo schermo compariranno due griglie con dei quadratini colorati: </p><p style="font-size: 24px; font-weight: bold;">  ciò che deve fare è sommare i quadratini colorati e indicare la risposta corretta.</p> <img src="memoria_di_lavoro/operazioni/img3/somma_'+String(value)+'.png" height="400"> </p>',
  choices: "NO_KEYS",
  choices:["", "", ""],
  prompt:'Premi sulla figura che corrisponde alla somma delle due figure in alto',
  button_html:['<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: red; color: red; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget1)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: green; color: green; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget2)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: blue; color: blue; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(value)+'.png); background-size: 100px;">%choice%</button>'],
  on_finish: function(data) {
    if (data.response == 2){
      var accuracy = true
      console.log(accuracy)
    } else {
      var accuracy = false
      console.log(accuracy)
    }
    data.correct = accuracy

  }
};
var img5 = {
  type: "html-button-response",
  stimulus: '<p style="font-size: 24px; font-weight: bold;"> Sullo schermo compariranno due griglie con dei quadratini colorati: </p><p style="font-size: 24px; font-weight: bold;">  ciò che deve fare è sommare i quadratini colorati e indicare la risposta corretta.</p> <img src="memoria_di_lavoro/operazioni/img3/somma_'+String(value)+'.png" height="400"> </p>',
  choices: "NO_KEYS",
  choices:["", "", ""],
  prompt:'Premi sulla figura che corrisponde alla somma delle due figure in alto',
  button_html:['<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: red; color: red; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget1)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: green; color: green; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget2)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: blue; color: blue; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(value)+'.png); background-size: 100px;">%choice%</button>'],
  on_finish: function(data) {
    if (data.response == 2){
      var accuracy = true
      console.log(accuracy)
    } else {
      var accuracy = false
      console.log(accuracy)
    }
    data.correct = accuracy

  }
};
var img6 = {
  type: "html-button-response",
  stimulus: '<p style="font-size: 24px; font-weight: bold;"> Sullo schermo compariranno due griglie con dei quadratini colorati: </p><p style="font-size: 24px; font-weight: bold;">  ciò che deve fare è sommare i quadratini colorati e indicare la risposta corretta.</p> <img src="memoria_di_lavoro/operazioni/img3/somma_'+String(value)+'.png" height="400"> </p>',
  choices: "NO_KEYS",
  choices:["", "", ""],
  prompt:'Premi sulla figura che corrisponde alla somma delle due figure in alto',
  button_html:['<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: red; color: red; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget1)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: green; color: green; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget2)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: blue; color: blue; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(value)+'.png); background-size: 100px;">%choice%</button>'],
  on_finish: function(data) {
    if (data.response == 2){
      var accuracy = true
      console.log(accuracy)
    } else {
      var accuracy = false
      console.log(accuracy)
    }
    data.correct = accuracy

  }
};
var img7 = {
  type: "html-button-response",
  stimulus: '<p style="font-size: 24px; font-weight: bold;"> Sullo schermo compariranno due griglie con dei quadratini colorati: </p><p style="font-size: 24px; font-weight: bold;">  ciò che deve fare è sommare i quadratini colorati e indicare la risposta corretta.</p> <img src="memoria_di_lavoro/operazioni/img3/somma_'+String(value)+'.png" height="400"> </p>',
  choices: "NO_KEYS",
  choices:["", "", ""],
  prompt:'Premi sulla figura che corrisponde alla somma delle due figure in alto',
  button_html:['<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: red; color: red; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget1)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: green; color: green; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget2)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: blue; color: blue; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(value)+'.png); background-size: 100px;">%choice%</button>'],
  on_finish: function(data) {
    if (data.response == 2){
      var accuracy = true
      console.log(accuracy)
    } else {
      var accuracy = false
      console.log(accuracy)
    }
    data.correct = accuracy

  }
};
var img8 = {
  type: "html-button-response",
  stimulus: '<p style="font-size: 24px; font-weight: bold;"> Sullo schermo compariranno due griglie con dei quadratini colorati: </p><p style="font-size: 24px; font-weight: bold;">  ciò che deve fare è sommare i quadratini colorati e indicare la risposta corretta.</p> <img src="memoria_di_lavoro/operazioni/img3/somma_'+String(value)+'.png" height="400"> </p>',
  choices: "NO_KEYS",
  choices:["", "", ""],
  prompt:'Premi sulla figura che corrisponde alla somma delle due figure in alto',
  button_html:['<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: red; color: red; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget1)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: green; color: green; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget2)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: blue; color: blue; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(value)+'.png); background-size: 100px;">%choice%</button>'],
  on_finish: function(data) {
    if (data.response == 2){
      var accuracy = true
      console.log(accuracy)
    } else {
      var accuracy = false
      console.log(accuracy)
    }
    data.correct = accuracy

  }
};
var img9 = {
  type: "html-button-response",
  stimulus: '<p style="font-size: 24px; font-weight: bold;"> Sullo schermo compariranno due griglie con dei quadratini colorati: </p><p style="font-size: 24px; font-weight: bold;">  ciò che deve fare è sommare i quadratini colorati e indicare la risposta corretta.</p> <img src="memoria_di_lavoro/operazioni/img3/somma_'+String(value)+'.png" height="400"> </p>',
  choices: "NO_KEYS",
  choices:["", "", ""],
  prompt:'Premi sulla figura che corrisponde alla somma delle due figure in alto',
  button_html:['<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: red; color: red; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget1)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: green; color: green; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget2)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: blue; color: blue; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(value)+'.png); background-size: 100px;">%choice%</button>'],
  on_finish: function(data) {
    if (data.response == 2){
      var accuracy = true
      console.log(accuracy)
    } else {
      var accuracy = false
      console.log(accuracy)
    }
    data.correct = accuracy

  }
};
var img10 = {
  type: "html-button-response",
  stimulus: '<p style="font-size: 24px; font-weight: bold;"> Sullo schermo compariranno due griglie con dei quadratini colorati: </p><p style="font-size: 24px; font-weight: bold;">  ciò che deve fare è sommare i quadratini colorati e indicare la risposta corretta.</p> <img src="memoria_di_lavoro/operazioni/img3/somma_'+String(value)+'.png" height="400"> </p>',
  choices: "NO_KEYS",
  choices:["", "", ""],
  prompt:'Premi sulla figura che corrisponde alla somma delle due figure in alto',
  button_html:['<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: red; color: red; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget1)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: green; color: green; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(notarget2)+'.png); background-size: 100px;">%choice%</button>',
  '<button class="jspsych-btn" style = "height:110px; width:110px; border:5px solid; border-color: blue; color: blue; font-size : 24px; background: url(memoria_di_lavoro/operazioni/img3/Risultato_'+String(value)+'.png); background-size: 100px;">%choice%</button>'],
  on_finish: function(data) {
    if (data.response == 2){
      var accuracy = true
      console.log(accuracy)
    } else {
      var accuracy = false
      console.log(accuracy)
    }
    data.correct = accuracy

  }
};


var timelineZ = [img, img1, img2, img3, img4, img5, img6, img7, img8, img9, img10];
var timeline = jsPsych.randomization.shuffle(timelineZ);

jsPsych.run(timeline)

</script>
</html>
